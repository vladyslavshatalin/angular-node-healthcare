<!-- Write necessary code-->
<app-header></app-header>
<div id="form-container">
  <div class="form">
    <div class="form-content">
      <div class="col-sm-12 ">
        <div class="col-sm-8 div-header">
          <h2 class="header">Enter Patient details</h2>
        </div>
      </div>

      <!-- call submitForm method with all form values if form is valid -->
      <form [formGroup]="complexForm" (ngSubmit)="submitForm(complexForm.value)">

        <div class="form-group">
          <label class="label-name">
            First Name:<span class="required">*</span>
          </label>
          <input id="firstname" class="form-control text-box" type="text" placeholder="FIRSTNAME"
            formControlName="firstName">
          <div id="error-no-firstname" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['firstName'].errors?.required && complexForm.controls['firstName'].dirty">
            {{emptyFirstname}}
          </div>
          <div id="error-minlength-firstname" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['firstName'].errors?.minlength && complexForm.controls['firstName'].dirty">
            {{minlengthFirstname}}
          </div>
          <div id="error-maxlength-firstname" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['firstName'].errors?.maxlength && complexForm.controls['firstName'].dirty">
            {{maxlengthFirstname}}
          </div>
        </div>

        <div class="form-group">
          <label class="label-name">Last Name:
            <span class="required">*</span>
          </label>
          <input id="lastname" class="form-control text-box" type="text" placeholder="LASTNAME"
            formControlName="lastName">
          <div id="error-no-lastname" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['lastName'].errors?.required && complexForm.controls['lastName'].dirty">
            {{emptyLastname}}
          </div>
          <div id="error-minlength-lastname" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['lastName'].errors?.minlength && complexForm.controls['lastName'].dirty">
            {{minlengthLastname}}
          </div>
          <div id="error-maxlength-lastname" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['lastName'].errors?.maxlength && complexForm.controls['lastName'].dirty">
            {{maxlengthLastname}}
          </div>
        </div>

        <div class="form-group">
          <label class="label-name">Gender:
            <span class="required">*</span>
          </label>
          <div class="input-div">
            <input type="radio" id="male" class="input-content" value="Male" formControlName="gender">
            <label class="label-content" for="male">Male</label>
            <input type="radio" id="female" class="input-content" value="Female" formControlName="gender">
            <label class="label-content" for="female">Female</label>
          </div>
          <div id="error-no-gender" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['gender'].invalid && complexForm.controls['gender'].dirty">
            {{noGender}}
          </div>
        </div>

        <div class="form-group">
          <label class="label-name">
            Date of birth:<span class="required">*</span>
          </label>
          <div>
            <input id="date-input" class="form-control date-input glyphicon glyphicon-calendar" type="date"
              placeholder="Date of birth" min="1968-01-01" max="{{today}}" formControlName="dob">
          </div>
          <div id="error-no-dob" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['dob'].invalid && complexForm.controls['dob'].dirty">
            {{noDob}}
          </div>
        </div>

        <div class="form-group">
          <label class="label-name">
            Contact number:<span class="required">*</span>
          </label>
          <input id="mobile" class="form-control text-box" type="text" placeholder="mobile number"
            formControlName="mobile">
          <div id="error-no-mobile" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['mobile'].errors?.required && complexForm.controls['mobile'].dirty">
            {{noMobile}}
          </div>
          <div id="error-number-mobile" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['mobile'].hasError('pattern') && complexForm.controls['mobile'].dirty">
            {{numberMobile}}
          </div>
          <div id="error-maxlength-mobile" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['mobile'].value.length > 10 && complexForm.controls['mobile'].dirty">
            {{maxlengthMobile}}
          </div>
        </div>

        <div class="form-group">
          <label class="label-name" for="email">
            Email:<span class="required">*</span>
          </label>
          <input id="email" class="form-control text-box" type="email" placeholder="example:abc12@tcs.com"
            formControlName="email">
          <div id="error-pattern-email" class="alert alert-danger error-msg"
            *ngIf="complexForm.controls['email'].invalid && complexForm.controls['email'].dirty">
            {{patternEmail}}
          </div>
        </div>

        <div class="form-group">
          <label class="label-name" for="description">
            Description: <span class="xs-font">(Optional)</span>
          </label>
          <textarea id="description" class="form-control " placeholder="Briefly describe the issue" formControlName="description"></textarea>
        </div>

        <div class="form-group">
          <!-- disable button if form not valid -->
          <button type="submit" id="submit-btn" class="btn btn-primary submit-btn"
            [disabled]="complexForm.invalid">Submit</button>
        </div>

      </form>
    </div>
  </div>
</div>